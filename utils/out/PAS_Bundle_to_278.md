<!-- pas_bundle_to_278.md
  *****************************************************************************************************
  *                                  WARNING: DO NOT EDIT THIS FILE                                   *
  *                                                                                                   *
  * This file is generated by csv_to_markdown_tabler.ipynb. Any edits you make to this file will be   *
  * overwritten                                                                                       *
  * To change the contents of this file, edit input/images/data-element-mapping.csv                     *
  *****************************************************************************************************
  -->

| Data Element | X12n 278 Response-v5010 | PAS Response Bundle Mapping to $submit-attachment Description | FHIRPath mapping to $submit-attachment  |
|---|--------------|-----------------------|-----------------------------------------------------------|
| Tracking ID | Loop: 2000E - Patient Event Level or Loop: 2000F Service Level Segment: TRN02 Notes: TRN01 = “1”: Payer Supplied TRN01 = “2” : Provider Supplied (echoed back) | The ClaimResponse's first identifier element | Bundle.entry[0].resource.identifier[0]  |
| Use | Prior Auth | Fixed to "preauthorization" | Fixed to "preauthorization"  |
| Payer ID | Loop: 2010A Segment: NM109 Notes: NM108 = "PI" | The first identifier element of the Organization referenced by the ClaimResponse's insurer element. | Bundle.entry.where(fullUrl = %context.entry[0].resource.insurer.reference or (resource.resourceType = 'Organization' and resource.id =%context.entry[0].resource.insurer.reference.split('/').last())).resource.identifier[0]  |
| Payer URL | Loop: 2010A Segment: PER08 Notes: PER07 = "UR" | - | -  |
| Organization ID | Loop: 2010B Segment: NM109 Notes: NM101 = id code qualifier, NM102 = "2" | If present, the first identifier element of the Organization referenced by the ClaimResponse's requester element or the first identifier element of the Organization referenced by the organization element of the PractitiionerRole referenced by the ClaimResponse's requester element. | Bundle.entry.where(resource.resourceType = 'Organization' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id =%context.entry[0].resource.requester.reference.split('/').last() or (fullUrl = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.organization.reference) or resource.id = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.organization.reference).split('/').last()))).resource.identifier[0] |
| Provider ID | Loop: 2010EA Segment: NM109 Notes: NM101 = id code qualifier , NM102 = "1" | The first identifier element of the Practitioner referenced by the practitioner element of the PractitionerRole referenced by the ClaimResponse's requester element. | Bundle.entry.where(resource.resourceType = 'Practitioner' and (fullUrl = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.practitioner.reference) or resource.id = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.practitioner.reference).split('/').last())).resource.identifier[0] |
| Line Item(s) | Loop: 2000F Segment: HL01 | The CommunicationRequest payload element "serviceLineNumber" extension. | Bundle.entry.where(fullUrl = %context.entry[0].resource.communicationRequest.reference or (resource.resourceType = 'CommunicationRequest' and resource.id =%context.entry[0].resource.communicationRequest.reference.split('/').last())).resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-serviceLineNumber').valuePositiveInt |
| Attachment Code | Loop: 2000E - Patient Event Level or Loop: 2000F Service Level Segment: HI (LOINC) or Segment: PWK01 Report Type Codes | The CommunicationRequest payload element "contentModifier" extension. | Bundle.entry.where(fullUrl = %context.entry[0].resource.communicationRequest.reference or (resource.resourceType = 'CommunicationRequest' and resource.id =%context.entry[0].resource.communicationRequest.reference.split('/').last())).resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-contentModifier').valueCodeableConcept |
| Date of Service | Loop: 2000E (event level) or 2000F (line level) Segment: DTP03 Notes: DTP01="742" DTP02 = date format code | The ClaimResponse "preAuthPeriod" element's start date. | Bundle.entry[0].resource.preAuthPeriod.start  |
| Member ID | Loop: 2010C Segment: NM109 Notes: NM108 = id code qualifier | The member identifier element of the Patient referenced by the ClaimResponse's "patient" element. | Bundle.entry.where(fullUrl = %context.entry[0].resource.patient.reference or (resource.resourceType = 'Patient' and resource.id =%context.entry[0].resource.patient.reference.split('/').last())).resource.identifier.where('MB' in type.coding.code)  |
{:.grid}

The data element mapping table is available as a [CSV](data-element-mapping.csv) and [Excel](data-element-mapping.xlsx) file.